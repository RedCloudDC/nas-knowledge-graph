<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced NAS Knowledge Graph</title>
    <meta name="description" content="Interactive knowledge graph visualization for exploring NAS terminal and facility relationships">
    <!-- D3.js Library -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
  <script type="module" crossorigin src="./js/main-6_B4kAK4.js"></script>
  <link rel="modulepreload" crossorigin href="./js/chunk-B5VhykKX.js">
  <link rel="modulepreload" crossorigin href="./js/chunk-DKBjnJXm.js">
  <link rel="modulepreload" crossorigin href="./js/chunk-VRMXnrWU.js">
  <link rel="modulepreload" crossorigin href="./js/chunk-BDh3YsLp.js">
  <link rel="modulepreload" crossorigin href="./js/chunk-BRD_uMrR.js">
  <link rel="stylesheet" crossorigin href="./css/main-DCRfqwsd.css">
</head>
<body>
    <!-- Skip Navigation -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <a href="#graph-container" class="skip-link">Skip to graph visualization</a>
    
    <div id="app" class="theme-light">
        <!-- Screen reader announcements -->
        <div id="sr-announcer" aria-live="polite" aria-atomic="true" class="sr-only"></div>
        
        <!-- Header Toolbar -->
        <header class="header-toolbar" role="banner">
            <div class="header-left">
                <h1><span aria-hidden="true">üìä</span> Enhanced NAS Knowledge Graph</h1>
            </div>
            <div class="header-center">
                <div class="search-container">
                    <input 
                        type="search" 
                        id="search-input" 
                        placeholder="Search nodes..."
                        aria-label="Search knowledge graph nodes"
                        autocomplete="off"
                    >
                    <button id="search-clear" type="button" aria-label="Clear search" title="Clear search">
                        <span aria-hidden="true">‚úï</span>
                    </button>
                </div>
            </div>
            <div class="header-right">
                <div class="view-toggles">
                    <button 
                        id="layout-toggle" 
                        type="button" 
                        aria-label="Toggle layout type" 
                        title="Switch between layout types"
                        aria-describedby="layout-help"
                        tabindex="1"
                    >
                        <span aria-hidden="true">üîÄ</span> Layout
                    </button>
                    <button 
                        id="theme-toggle" 
                        type="button" 
                        aria-label="Toggle theme" 
                        title="Switch between light, dark, and high-contrast themes"
                        aria-describedby="theme-help"
                        tabindex="2"
                    >
                        <span aria-hidden="true">üåô</span> Theme
                    </button>
                </div>
                <div class="legend-toggle">
                    <button 
                        id="legend-toggle" 
                        type="button" 
                        aria-label="Toggle legend visibility" 
                        title="Show/hide legend"
                        aria-pressed="false"
                        aria-describedby="legend-help"
                        tabindex="3"
                    >
                        <span aria-hidden="true">üè∑Ô∏è</span> Legend
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Hidden help text for screen readers -->
        <div id="layout-help" class="sr-only">Cycles through Force-Directed, Circular, Hierarchical, and Grid layouts</div>
        <div id="theme-help" class="sr-only">Cycles through Light, Dark, and High-Contrast themes</div>
        <div id="legend-help" class="sr-only">Shows or hides the legend explaining graph symbols and connections</div>
        
        <!-- Main Dashboard Layout -->
        <main id="main-content" class="dashboard" role="main">
            <!-- Left Sidebar - Filters -->
            <aside class="sidebar-filters" role="complementary" aria-label="Graph filters">
                <h2><span aria-hidden="true">üîç</span> Filters</h2>
                
                <div class="filter-section">
                    <h3 id="node-types-heading">Node Types</h3>
                    <div class="filter-group" role="group" aria-labelledby="node-types-heading" aria-describedby="node-types-help">
                        <div id="node-types-help" class="sr-only">Select which types of nodes to show in the graph</div>
                        <label class="filter-item">
                            <input type="checkbox" id="filter-files" value="file" checked tabindex="4" aria-describedby="files-desc">
                            <span class="checkmark" aria-hidden="true"></span>
                            <span aria-hidden="true">üìÑ</span> Files
                            <span id="files-desc" class="sr-only">Show file nodes in the graph</span>
                        </label>
                        <label class="filter-item">
                            <input type="checkbox" id="filter-folders" value="folder" checked tabindex="5" aria-describedby="folders-desc">
                            <span class="checkmark" aria-hidden="true"></span>
                            <span aria-hidden="true">üìÅ</span> Folders
                            <span id="folders-desc" class="sr-only">Show folder nodes in the graph</span>
                        </label>
                        <label class="filter-item">
                            <input type="checkbox" id="filter-tags" value="tag" checked tabindex="6" aria-describedby="tags-desc">
                            <span class="checkmark" aria-hidden="true"></span>
                            <span aria-hidden="true">üè∑Ô∏è</span> Tags
                            <span id="tags-desc" class="sr-only">Show tag nodes in the graph</span>
                        </label>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h3 id="connections-heading">Connections</h3>
                    <div class="filter-group" role="group" aria-labelledby="connections-heading" aria-describedby="connections-help">
                        <div id="connections-help" class="sr-only">Select which types of connections to show between nodes</div>
                        <label class="filter-item">
                            <input type="checkbox" id="filter-strong" value="strong" checked tabindex="7" aria-describedby="strong-desc">
                            <span class="checkmark" aria-hidden="true"></span>
                            <span aria-hidden="true">üí™</span> Strong Links
                            <span id="strong-desc" class="sr-only">Show strong connections between nodes</span>
                        </label>
                        <label class="filter-item">
                            <input type="checkbox" id="filter-weak" value="weak" checked tabindex="8" aria-describedby="weak-desc">
                            <span class="checkmark" aria-hidden="true"></span>
                            <span aria-hidden="true">üîó</span> Weak Links
                            <span id="weak-desc" class="sr-only">Show weak connections between nodes</span>
                        </label>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h3>Display Options</h3>
                    <div class="filter-group">
                        <label class="range-control">
                            <span>Node Size</span>
                            <input 
                                type="range" 
                                id="node-size-slider" 
                                min="0.5" 
                                max="3" 
                                step="0.1" 
                                value="1"
                                aria-label="Adjust node size"
                                tabindex="9"
                            >
                        </label>
                        <label class="range-control">
                            <span>Link Strength</span>
                            <input 
                                type="range" 
                                id="link-strength-slider" 
                                min="0.1" 
                                max="2" 
                                step="0.1" 
                                value="1"
                                aria-label="Adjust link strength"
                                tabindex="10"
                            >
                        </label>
                    </div>
                </div>
                
                <div class="filter-actions">
                    <button 
                        id="reset-filters" 
                        type="button" 
                        aria-label="Reset all filters to default"
                        tabindex="11"
                    >
                        üîÑ Reset Filters
                    </button>
                </div>
            </aside>
            
            <!-- Center - Graph Canvas -->
            <section class="graph-canvas" aria-label="Knowledge graph visualization">
                <div id="graph-container" role="img" aria-label="Interactive knowledge graph" aria-describedby="graph-instructions">
                    <!-- Graph navigation instructions -->
                    <div id="graph-instructions" class="sr-only">
                        Use arrow keys to navigate nodes when focused. Press Enter to select a node. 
                        Press Tab to move between graph controls. Use mouse wheel or pinch to zoom.
                    </div>
                    
                    <!-- Knowledge graph visualization will be rendered here -->
                    <div class="loading" aria-live="polite" aria-label="Loading graph">
                        <div class="loading-spinner" aria-hidden="true"></div>
                        <p>Loading enhanced graph visualization...</p>
                    </div>
                </div>
                
                <!-- Graph Controls Overlay -->
                <div class="graph-controls-overlay" role="toolbar" aria-label="Graph controls">
                    <button 
                        id="reset-view" 
                        type="button" 
                        title="Reset zoom and pan to default view"
                        aria-label="Reset view"
                        tabindex="12"
                    >
                        <span aria-hidden="true">üîÑ</span>
                    </button>
                    <button 
                        id="fit-view" 
                        type="button" 
                        title="Fit all nodes to viewport"
                        aria-label="Fit to view"
                        tabindex="13"
                    >
                        <span aria-hidden="true">üìê</span>
                    </button>
                    <button 
                        id="expand-all" 
                        type="button" 
                        title="Expand all collapsed clusters"
                        aria-label="Expand all"
                        tabindex="14"
                    >
                        <span aria-hidden="true">üìÇ</span>
                    </button>
                    <button 
                        id="collapse-all" 
                        type="button" 
                        title="Collapse nodes into clusters"
                        aria-label="Collapse all"
                        tabindex="15"
                    >
                        <span aria-hidden="true">üóÇÔ∏è</span>
                    </button>
                </div>
                
                <!-- Legend -->
                <aside id="legend" class="legend hidden" role="complementary" aria-label="Graph legend" aria-describedby="legend-description">
                    <div id="legend-description" class="sr-only">Visual legend explaining the meaning of different node types and connection styles in the graph</div>
                    <h3>Legend</h3>
                    <div class="legend-content">
                        <div class="legend-item">
                            <div class="legend-symbol file" aria-hidden="true"></div>
                            <span>Files - Blue circles represent file nodes</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-symbol folder" aria-hidden="true"></div>
                            <span>Folders - Orange circles represent folder nodes</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-symbol tag" aria-hidden="true"></div>
                            <span>Tags - Green circles represent tag nodes</span>
                        </div>
                        <div class="legend-divider"></div>
                        <div class="legend-item">
                            <div class="legend-line strong" aria-hidden="true"></div>
                            <span>Strong Connection - Solid lines indicate strong relationships</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line weak" aria-hidden="true"></div>
                            <span>Weak Connection - Dashed lines indicate weak relationships</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Right - Detail/Analysis Panel -->
            <aside class="detail-panel" role="complementary" aria-label="Node details and analysis">
                <div class="panel-tabs" role="tablist" aria-label="Information panels">
                    <button 
                        id="details-tab" 
                        type="button" 
                        role="tab"
                        class="tab-button active" 
                        aria-selected="true"
                        aria-controls="details-content"
                        tabindex="16"
                    >
                        Details
                    </button>
                    <button 
                        id="analysis-tab" 
                        type="button" 
                        role="tab"
                        class="tab-button" 
                        aria-selected="false"
                        aria-controls="analysis-content"
                        tabindex="17"
                    >
                        Analysis
                    </button>
                </div>
                
                <div class="panel-content">
                    <div id="details-content" class="tab-content active" role="tabpanel" aria-labelledby="details-tab">
                        <h3><span aria-hidden="true">‚ÑπÔ∏è</span> Node Information</h3>
                        <div id="node-details" aria-live="polite">
                            <div class="no-selection">
                                <p><span aria-hidden="true">üñ±Ô∏è</span> Click on a node to view details</p>
                                <p><span aria-hidden="true">‚å®Ô∏è</span> Press Tab to focus graph, then use arrow keys to navigate</p>
                                <p><span aria-hidden="true">üñ±Ô∏è</span> Double-click to expand/cluster</p>
                                <p><span aria-hidden="true">üñ±Ô∏è</span> Right-click for context menu</p>
                                <p><span aria-hidden="true">üñ±Ô∏è</span> Drag nodes to reposition</p>
                                <p><span aria-hidden="true">üñ±Ô∏è</span> Use mouse wheel to zoom</p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="analysis-content" class="tab-content" role="tabpanel" aria-labelledby="analysis-tab">
                        <h3><span aria-hidden="true">üìä</span> Graph Analysis</h3>
                        <div id="graph-stats" class="stats-section">
                            <h4><span aria-hidden="true">üìà</span> Graph Statistics</h4>
                            <div id="stats-content">
                                <div class="stat-item">
                                    <span class="stat-label">Nodes:</span>
                                    <span id="nodes-count">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Edges:</span>
                                    <span id="edges-count">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Clusters:</span>
                                    <span id="clusters-count">0</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="analysis-section">
                            <h4><span aria-hidden="true">üîç</span> Network Metrics</h4>
                            <div class="metrics-content">
                                <div class="metric-item">
                                    <span class="metric-label">Density:</span>
                                    <span id="density-value">0%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Avg. Degree:</span>
                                    <span id="avg-degree-value">0</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Components:</span>
                                    <span id="components-value">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
    </div>
    
    <!-- Browser compatibility validation -->
    <script src="scripts/validate-browser-compatibility.js"></script>
    
    <!-- Accessibility validation -->
    <script src="scripts/validate-accessibility.js"></script>
    
    <!-- Main application script -->
</body>
</html>
