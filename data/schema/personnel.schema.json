{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://nas-knowledge-graph.example.com/schemas/personnel",
  "title": "Personnel Node Schema",
  "description": "Schema for personnel nodes including FAA maintenance staff, operations personnel, and safety analysts",
  "type": "object",
  "required": ["id", "name", "role", "department", "status"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for personnel",
      "pattern": "^PER[0-9]{6}$"
    },
    "name": {
      "type": "object",
      "description": "Personnel name information",
      "required": ["first", "last"],
      "properties": {
        "first": {
          "type": "string",
          "minLength": 1,
          "maxLength": 50
        },
        "middle": {
          "type": "string",
          "maxLength": 50
        },
        "last": {
          "type": "string",
          "minLength": 1,
          "maxLength": 50
        },
        "suffix": {
          "type": "string",
          "maxLength": 10
        }
      }
    },
    "employeeId": {
      "type": "string",
      "description": "Internal employee identifier",
      "maxLength": 20
    },
    "role": {
      "type": "string",
      "enum": [
        "maintenance_technician",
        "senior_maintenance_technician",
        "maintenance_supervisor",
        "operations_specialist",
        "air_traffic_controller",
        "safety_analyst",
        "quality_assurance_specialist",
        "engineering_technician",
        "systems_administrator",
        "facility_manager",
        "regional_manager",
        "inspector",
        "trainer",
        "contractor"
      ],
      "description": "Primary role or job title"
    },
    "department": {
      "type": "string",
      "enum": [
        "maintenance",
        "operations",
        "safety",
        "engineering",
        "quality_assurance",
        "management",
        "training",
        "contractor_services"
      ],
      "description": "Department or organizational unit"
    },
    "status": {
      "type": "string",
      "enum": [
        "active",
        "inactive",
        "leave",
        "training",
        "retired",
        "transferred"
      ],
      "description": "Current employment status"
    },
    "homeLocation": {
      "type": "string",
      "description": "Primary assigned location ID",
      "pattern": "^LOC[0-9]{6}$"
    },
    "certifications": {
      "type": "array",
      "description": "Professional certifications and qualifications",
      "items": {
        "type": "object",
        "required": ["name", "level", "expiryDate"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Certification name",
            "maxLength": 100
          },
          "level": {
            "type": "string",
            "enum": [
              "basic",
              "intermediate",
              "advanced",
              "expert",
              "instructor"
            ]
          },
          "issueDate": {
            "type": "string",
            "format": "date"
          },
          "expiryDate": {
            "type": "string",
            "format": "date"
          },
          "issuingAuthority": {
            "type": "string",
            "maxLength": 100
          },
          "certificationNumber": {
            "type": "string",
            "maxLength": 50
          }
        }
      }
    },
    "expertiseAreas": {
      "type": "array",
      "description": "Areas of technical expertise",
      "items": {
        "type": "string",
        "enum": [
          "radar_systems",
          "navigation_aids",
          "weather_systems",
          "communication_equipment",
          "power_systems",
          "facility_maintenance",
          "software_systems",
          "network_infrastructure",
          "safety_analysis",
          "quality_control",
          "project_management",
          "training_development"
        ]
      },
      "uniqueItems": true
    },
    "securityClearance": {
      "type": "object",
      "description": "Security clearance information",
      "properties": {
        "level": {
          "type": "string",
          "enum": [
            "none",
            "public_trust",
            "secret",
            "top_secret"
          ]
        },
        "expiryDate": {
          "type": "string",
          "format": "date"
        },
        "status": {
          "type": "string",
          "enum": [
            "active",
            "suspended",
            "expired",
            "pending"
          ]
        }
      }
    },
    "contactInfo": {
      "type": "object",
      "description": "Contact information",
      "properties": {
        "workPhone": {
          "type": "string",
          "pattern": "^\\+?[0-9\\-\\(\\)\\s]+$"
        },
        "mobilePhone": {
          "type": "string",
          "pattern": "^\\+?[0-9\\-\\(\\)\\s]+$"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "emergencyContact": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "maxLength": 100
            },
            "phone": {
              "type": "string",
              "pattern": "^\\+?[0-9\\-\\(\\)\\s]+$"
            },
            "relationship": {
              "type": "string",
              "maxLength": 50
            }
          }
        }
      }
    },
    "schedule": {
      "type": "object",
      "description": "Work schedule information",
      "properties": {
        "shiftType": {
          "type": "string",
          "enum": [
            "day_shift",
            "evening_shift",
            "night_shift",
            "rotating",
            "on_call",
            "flexible"
          ]
        },
        "hoursPerWeek": {
          "type": "number",
          "minimum": 0,
          "maximum": 80
        },
        "onCallFrequency": {
          "type": "string",
          "enum": [
            "never",
            "occasional",
            "weekly",
            "monthly",
            "as_needed"
          ]
        }
      }
    },
    "workload": {
      "type": "object",
      "description": "Current workload metrics",
      "properties": {
        "activeAssignments": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of currently active work assignments"
        },
        "averageResponseTime": {
          "type": "number",
          "minimum": 0,
          "description": "Average response time to incidents (minutes)"
        },
        "completedTasksThisMonth": {
          "type": "integer",
          "minimum": 0
        },
        "utilizationRate": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of capacity currently utilized"
        }
      }
    },
    "performanceMetrics": {
      "type": "object",
      "description": "Performance and evaluation metrics",
      "properties": {
        "lastEvaluationDate": {
          "type": "string",
          "format": "date"
        },
        "overallRating": {
          "type": "string",
          "enum": [
            "exceeds_expectations",
            "meets_expectations",
            "below_expectations",
            "unsatisfactory"
          ]
        },
        "trainingHoursThisYear": {
          "type": "number",
          "minimum": 0
        },
        "safetyIncidents": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of safety incidents this year"
        }
      }
    },
    "supervisor": {
      "type": "string",
      "description": "Reference to supervisor's personnel ID",
      "pattern": "^PER[0-9]{6}$"
    },
    "directReports": {
      "type": "array",
      "description": "List of direct report personnel IDs",
      "items": {
        "type": "string",
        "pattern": "^PER[0-9]{6}$"
      },
      "uniqueItems": true
    },
    "hireDate": {
      "type": "string",
      "format": "date",
      "description": "Date of hire"
    },
    "yearsOfExperience": {
      "type": "integer",
      "minimum": 0,
      "description": "Total years of relevant experience"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Record creation timestamp"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Record last update timestamp"
        },
        "version": {
          "type": "string",
          "description": "Schema version"
        }
      }
    }
  },
  "additionalProperties": false
}
